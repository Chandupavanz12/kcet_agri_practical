import{u as h,r,a as u,j as s}from"./index-pB9rXeLh.js";function v(){const{token:t}=h(),[d,c]=r.useState([]),[n,l]=r.useState(!0),[i,o]=r.useState(""),m="http://localhost:5001",x=a=>{const e=String(a||"").trim();return e?/^https?:\/\//i.test(e)?e:`${m}${e.startsWith("/")?"":"/"}${e}`:""};return r.useEffect(()=>{let a=!0;return(async()=>{try{l(!0);const e=await u("/api/student/dashboard",{token:t});if(!a)return;c(Array.isArray(e==null?void 0:e.pdfs)?e.pdfs:[])}catch(e){if(!a)return;o((e==null?void 0:e.message)||"Failed to load materials")}finally{a&&l(!1)}})(),()=>{a=!1}},[t]),n?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-6 w-48 rounded bg-slate-200"}),s.jsx("div",{className:"mt-2 h-4 w-72 rounded bg-slate-200"})]})}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 w-40 rounded bg-slate-200"}),s.jsx("div",{className:"mt-2 h-3 w-24 rounded bg-slate-200"}),s.jsx("div",{className:"mt-4 h-8 w-20 rounded bg-slate-200"})]})},a))})]}):i?s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:i})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"card-body bg-gradient-to-r from-primary-50 via-white to-accent-50",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-xl font-semibold",children:"Study Materials"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:"PDF notes and reference documents."})]}),s.jsx("span",{className:"badge",children:"ðŸ“š PDFs"})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:d.length===0?s.jsx("div",{className:"rounded-2xl border border-slate-200/70 bg-white p-4 text-sm text-slate-700",children:"No materials available."}):s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:d.map(a=>s.jsxs("div",{className:"card overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-accent-400 to-secondary-500"}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:a.title}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:a.subject}),s.jsx("div",{className:"mt-4",children:s.jsx("a",{href:x(a.pdfUrl),target:"_blank",rel:"noopener noreferrer",className:"btn-primary text-xs",children:"View"})})]})]},a.id))})})})]})}export{v as default};
